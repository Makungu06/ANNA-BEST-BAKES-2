<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ANNA BEST BAKES - Contact us</title>

  <!-- Font Awesome CDN for social media icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <!-- Navigation -->
  <header>
    <img src="../assets/Anna logo 2.jpg" alt="Anna best bakes logo" width="150" height="100" />

    <!-- Hamburger menu -->
    <div class="hamburger" aria-label="Toggle navigation" role="button" tabindex="0">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <nav>
      <a href="../index.html">Home</a>
      <a href="contact.html">Contact us</a>
      <a href="about.html">About us</a>
      <a href="products.html">Products</a>
      <a href="enquiry.html">Enquiry</a>
    </nav>
  </header>

  <main>
    <h1>Contact Us</h1>

    <!-- Contact Details -->
    <section>
      <h2>Our Details</h2>
      <table>
        <tr>
          <td width="150">Telephone:</td>
          <td>(015)-198-4118</td>
        </tr>
        <tr>
          <td width="150">Address:</td>
          <td>Wisani Mathonsi street, Malamulele, 0699</td>
        </tr>
        <tr>
          <td width="150">Email:</td>
          <td><a href="mailto:info@annabestbakes.co.za">info@annabestbakes.co.za</a></td>
        </tr>
      </table>
    </section>

    <!-- Map -->
    <section>
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3672.5200626861792!2d30.70730287616169!3d-23.00466957918634!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1ec5ae2a8be543f7%3A0x71e014839d5c0e47!2sWisani%20Mathonsi%2C%20Malamulele-C%2C%20Malamulele%2C%200982%2C%20South%20Africa!5e0!3m2!1sen!2sie!4v1756198923009!5m2!1sen!2sie"
        width="600"
        height="450"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      ></iframe>
    </section>

    <!-- Contact Form -->
    <section>
      <h2>Send Us a Message</h2>
      <form id="contactForm" novalidate>
        <label for="name">Name:</label><br />
        <input type="text" id="name" name="name" placeholder="Enter your name" required /><br /><br />

        <label for="email">Email:</label><br />
        <input type="email" id="email" name="email" placeholder="Enter your email" required /><br /><br />

        <label for="message">Message:</label><br />
        <textarea id="message" name="message" rows="5" cols="40" placeholder="Write your message" required></textarea><br /><br />

        <button type="submit">Submit</button>
      </form>

      <p id="formMessage" style="text-align:center; font-weight:bold; margin-top:1rem;"></p>
    </section>
  </main>

  <footer>
    <div class="socials" style="text-align:center; margin-bottom:1rem;">
      <a href="https://facebook.com" target="_blank" aria-label="Facebook" rel="noopener noreferrer"><i class="fab fa-facebook-f"></i></a>
      <a href="https://instagram.com" target="_blank" aria-label="Instagram" rel="noopener noreferrer"><i class="fab fa-instagram"></i></a>
    </div>
    <p style="text-align:center;">&copy; 2025 ANNA BEST BAKES</p>
    <p id="currentDateTime" style="text-align:center; font-weight:bold; margin-top:0.5rem;"></p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Hamburger Menu
      const hamburger = document.querySelector(".hamburger");
      const nav = document.querySelector("nav");
      hamburger.addEventListener("click", () => {
        nav.classList.toggle("active");
        hamburger.classList.toggle("active");
      });
      hamburger.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          hamburger.click();
        }
      });

      // Contact Form
      const contactForm = document.getElementById("contactForm");
      const formMessage = document.getElementById("formMessage");
      function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }
      contactForm.addEventListener("submit", async function(e) {
        e.preventDefault();
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const message = document.getElementById("message").value.trim();
        if (!name || !email || !message) {
          formMessage.style.color = "red";
          formMessage.textContent = "‚ö†Ô∏è Please fill in all fields!";
          return;
        }
        if (!isValidEmail(email)) {
          formMessage.style.color = "red";
          formMessage.textContent = "‚ö†Ô∏è Please enter a valid email address!";
          return;
        }
        try {
          const response = await fetch("https://formspree.io/f/YOUR_FORM_ID", {
            method: "POST",
            headers: { "Content-Type": "application/json", "Accept": "application/json" },
            body: JSON.stringify({ name, email, message }),
          });
          if (response.ok) {
            const now = new Date();
            const dateString = now.toLocaleDateString();
            const timeString = now.toLocaleTimeString();
            formMessage.style.color = "green";
            formMessage.textContent = `üì© Thank you, ${name}! Your message has been sent successfully on ${dateString} at ${timeString}.`;
            contactForm.reset();
          } else throw new Error("Network response was not ok");
        } catch (error) {
          formMessage.style.color = "red";
          formMessage.textContent = "‚ùå Sorry, there was an error sending your message. Please try again later.";
          console.error("Form submission error:", error);
        }
      });

      // Footer Date/Time
      function updateDateTime() {
        const now = new Date();
        const options = { weekday: "long", year: "numeric", month: "long", day: "numeric" };
        const dateString = now.toLocaleDateString(undefined, options);
        const timeString = now.toLocaleTimeString();
        document.getElementById("currentDateTime").textContent = `${dateString} | ${timeString}`;
      }
      setInterval(updateDateTime, 1000);
      updateDateTime();

      // ===================== SMART SEARCH BAR =====================
      const header = document.querySelector("header");

      // Create search icon bar
      const searchIconBar = document.createElement("div");
      searchIconBar.style.display = "flex";
      searchIconBar.style.alignItems = "center";
      searchIconBar.style.cursor = "pointer";
      searchIconBar.style.marginLeft = "20px";
      searchIconBar.innerHTML = `<i class="fas fa-search" style="margin-right:8px;"></i> Search your favorite`;
      header.appendChild(searchIconBar);

      // Create input box
      const searchInput = document.createElement("input");
      searchInput.type = "text";
      searchInput.placeholder = "Type to search...";
      searchInput.style.position = "absolute";
      searchInput.style.top = "80px";
      searchInput.style.right = "20px";
      searchInput.style.padding = "10px";
      searchInput.style.fontSize = "16px";
      searchInput.style.border = "2px solid #333";
      searchInput.style.borderRadius = "5px";
      searchInput.style.display = "none";
      searchInput.style.zIndex = "999";
      searchInput.style.width = "250px";
      document.body.appendChild(searchInput);

      // Suggestion box
      const suggestionBox = document.createElement("div");
      suggestionBox.style.position = "absolute";
      suggestionBox.style.top = "120px";
      suggestionBox.style.right = "20px";
      suggestionBox.style.backgroundColor = "#fff";
      suggestionBox.style.border = "1px solid #333";
      suggestionBox.style.borderRadius = "5px";
      suggestionBox.style.width = "250px";
      suggestionBox.style.maxHeight = "200px";
      suggestionBox.style.overflowY = "auto";
      suggestionBox.style.display = "none";
      suggestionBox.style.zIndex = "1000";
      document.body.appendChild(suggestionBox);

      // Search routes
      const searchRoutes = {
        "home": "../index.html",
        "homepage": "../index.html",
        "contact": "contact.html",
        "contact us": "contact.html",
        "support": "contact.html",
        "about": "about.html",
        "about us": "about.html",
        "product": "products.html",
        "products": "products.html",
        "cakes": "products.html",
        "bakes": "products.html",
        "enquiry": "enquiry.html",
        "inquiry": "enquiry.html"
      };

      // Toggle input box
      function toggleSearch() {
        if (searchInput.style.display === "none") {
          searchInput.style.display = "block";
          searchInput.focus();
        } else {
          searchInput.style.display = "none";
          searchInput.value = "";
          suggestionBox.style.display = "none";
        }
      }
      searchIconBar.addEventListener("click", toggleSearch);

      searchInput.addEventListener("input", function() {
        const query = searchInput.value.toLowerCase().trim();
        suggestionBox.innerHTML = "";
        if (!query) {
          suggestionBox.style.display = "none";
          return;
        }
        const matches = Object.keys(searchRoutes).filter(key => key.includes(query));
        if (matches.length === 0) {
          suggestionBox.innerHTML = '<div style="padding:10px;color:#555;">No results found</div>';
        } else {
          matches.forEach(match => {
            const div = document.createElement("div");
            div.textContent = match;
            div.style.padding = "10px";
            div.style.cursor = "pointer";
            div.addEventListener("mouseover", () => div.style.backgroundColor = "#f0f0f0");
            div.addEventListener("mouseout", () => div.style.backgroundColor = "#fff");
            div.addEventListener("click", () => window.location.href = searchRoutes[match]);
            suggestionBox.appendChild(div);
          });
        }
        suggestionBox.style.display = "block";
      });

      searchInput.addEventListener("keydown", function(e) {
        if (e.key === "Enter") {
          const query = searchInput.value.toLowerCase().trim();
          const match = Object.keys(searchRoutes).find(key => key.includes(query));
          if (match) {
            window.location.href = searchRoutes[match];
          } else {
            alert("No matching page found. Try: home, products, contact, about, enquiry.");
          }
        }
      });

      document.addEventListener("click", function(e) {
        if (!searchInput.contains(e.target) && !searchIconBar.contains(e.target) && !suggestionBox.contains(e.target)) {
          searchInput.style.display = "none";
          suggestionBox.style.display = "none";
          searchInput.value = "";
        }
      });
    });
  </script>
</body>
</html>
