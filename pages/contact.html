<script>
  // Hamburger Menu
  const hamburger = document.querySelector(".hamburger");
  const nav = document.querySelector("nav");

  hamburger.addEventListener("click", () => {
    nav.classList.toggle("active");
    hamburger.classList.toggle("active");
  });

  hamburger.addEventListener("keydown", (e) => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      hamburger.click();
    }
  });

  // Contact Form JavaScript
  const contactForm = document.getElementById("contactForm");
  const formMessage = document.getElementById("formMessage");

  function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }

  contactForm.addEventListener("submit", async function (e) {
    e.preventDefault(); // Stop normal submission

    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const message = document.getElementById("message").value.trim();

    // Validation
    if (!name || !email || !message) {
      formMessage.style.color = "red";
      formMessage.textContent = "‚ö†Ô∏è Please fill in all fields!";
      return;
    }

    if (!isValidEmail(email)) {
      formMessage.style.color = "red";
      formMessage.textContent = "‚ö†Ô∏è Please enter a valid email address!";
      return;
    }

    try {
      // Send email via Formspree (replace YOUR_FORM_ID with your ID)
      const response = await fetch("https://formspree.io/f/YOUR_FORM_ID", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Accept": "application/json",
        },
        body: JSON.stringify({ name, email, message }),
      });

      if (response.ok) {
        const now = new Date();
        const dateString = now.toLocaleDateString();
        const timeString = now.toLocaleTimeString();

        formMessage.style.color = "green";
        formMessage.textContent = `üì© Thank you, ${name}! Your message has been sent successfully on ${dateString} at ${timeString}.`;

        contactForm.reset();
      } else {
        throw new Error("Network response was not ok");
      }
    } catch (error) {
      formMessage.style.color = "red";
      formMessage.textContent = "‚ùå Sorry, there was an error sending your message. Please try again later.";
      console.error("Form submission error:", error);
    }
  });

  // Automatic Date and Time at Footer
  function updateDateTime() {
    const now = new Date();
    const options = { weekday: "long", year: "numeric", month: "long", day: "numeric" };
    const dateString = now.toLocaleDateString(undefined, options);
    const timeString = now.toLocaleTimeString();
    document.getElementById("currentDateTime").textContent = `${dateString} | ${timeString}`;
  }

  setInterval(updateDateTime, 1000);
  updateDateTime(); // Initial call
</script>
